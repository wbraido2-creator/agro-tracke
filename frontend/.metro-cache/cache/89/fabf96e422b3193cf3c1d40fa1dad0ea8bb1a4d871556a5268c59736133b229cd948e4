{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredData();\n    }, []);\n    async function loadStoredData() {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          const response = await api.default.get('/api/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Error loading user data:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        setUser(userData);\n      } catch (error) {\n        console.log('Login error:', error.response?.data);\n        throw new Error(error.response?.data?.detail || 'Erro ao fazer login');\n      }\n    }\n    async function signUp(name, email, password, phone) {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          name,\n          email,\n          password,\n          phone\n        });\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        setUser(userData);\n      } catch (error) {\n        console.log('Register error:', error.response?.data);\n        throw new Error(error.response?.data?.detail || 'Erro ao criar conta');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  };\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":111,"map":[[13,2,16,0,"Object"],[13,8,16,0],[13,9,16,0,"defineProperty"],[13,23,16,0],[13,24,16,0,"exports"],[13,31,16,0],[14,4,16,0,"enumerable"],[14,14,16,0],[15,4,16,0,"get"],[15,7,16,0],[15,18,16,0,"get"],[15,19,16,0],[16,6,16,0],[16,13,16,0,"AuthProvider"],[16,25,16,0],[17,4,16,0],[18,2,16,0],[19,2,77,0,"exports"],[19,9,77,0],[19,10,77,0,"useAuth"],[19,17,77,0],[19,20,77,0,"useAuth"],[19,27,77,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_utilsApi"],[23,15,3,0],[23,18,3,0,"require"],[23,25,3,0],[23,26,3,0,"_dependencyMap"],[23,40,3,0],[24,2,3,0],[24,6,3,0,"api"],[24,9,3,0],[24,12,3,0,"_interopDefault"],[24,27,3,0],[24,28,3,0,"_utilsApi"],[24,37,3,0],[25,2,3,31],[25,6,3,31,"_reactJsxDevRuntime"],[25,25,3,31],[25,28,3,31,"require"],[25,35,3,31],[25,36,3,31,"_dependencyMap"],[25,50,3,31],[26,2,14,0],[26,8,14,6,"AuthContext"],[26,19,14,17],[26,35,14,20],[26,39,14,20,"createContext"],[26,45,14,33],[26,46,14,33,"createContext"],[26,59,14,33],[26,61,14,51],[26,62,14,52],[26,63,14,72],[26,64,14,73],[27,2,16,7],[27,8,16,13,"AuthProvider"],[27,20,16,66],[27,23,16,69,"AuthProvider"],[27,24,16,70],[28,4,16,72,"children"],[29,2,16,81],[29,3,16,82],[29,8,16,87],[30,4,17,2],[30,10,17,8],[30,11,17,9,"user"],[30,15,17,13],[30,17,17,15,"setUser"],[30,24,17,22],[30,25,17,23],[30,28,17,26],[30,32,17,26,"useState"],[30,38,17,34],[30,39,17,34,"useState"],[30,47,17,34],[30,49,17,48],[30,53,17,52],[30,54,17,53],[31,4,18,2],[31,10,18,8],[31,11,18,9,"loading"],[31,18,18,16],[31,20,18,18,"setLoading"],[31,30,18,28],[31,31,18,29],[31,34,18,32],[31,38,18,32,"useState"],[31,44,18,40],[31,45,18,40,"useState"],[31,53,18,40],[31,55,18,41],[31,59,18,45],[31,60,18,46],[32,4,20,2],[32,8,20,2,"useEffect"],[32,14,20,11],[32,15,20,11,"useEffect"],[32,24,20,11],[32,26,20,12],[32,32,20,18],[33,6,21,4,"loadStoredData"],[33,20,21,18],[33,21,21,19],[33,22,21,20],[34,4,22,2],[34,5,22,3],[34,7,22,5],[34,9,22,7],[34,10,22,8],[35,4,24,2],[35,19,24,17,"loadStoredData"],[35,33,24,31,"loadStoredData"],[35,34,24,31],[35,36,24,34],[36,6,25,4],[36,10,25,8],[37,8,26,6],[37,14,26,12,"token"],[37,19,26,17],[37,22,26,20],[37,28,26,26,"AsyncStorage"],[37,40,26,38],[37,41,26,38,"default"],[37,48,26,38],[37,49,26,39,"getItem"],[37,56,26,46],[37,57,26,47],[37,64,26,54],[37,65,26,55],[38,8,27,6],[38,12,27,10,"token"],[38,17,27,15],[38,19,27,17],[39,10,28,8],[39,16,28,14,"response"],[39,24,28,22],[39,27,28,25],[39,33,28,31,"api"],[39,36,28,34],[39,37,28,34,"default"],[39,44,28,34],[39,45,28,35,"get"],[39,48,28,38],[39,49,28,39],[39,63,28,53],[39,64,28,54],[40,10,29,8,"setUser"],[40,17,29,15],[40,18,29,16,"response"],[40,26,29,24],[40,27,29,25,"data"],[40,31,29,29],[40,32,29,30],[41,8,30,6],[42,6,31,4],[42,7,31,5],[42,8,31,6],[42,15,31,13,"error"],[42,20,31,18],[42,22,31,20],[43,8,32,6,"console"],[43,15,32,13],[43,16,32,14,"log"],[43,19,32,17],[43,20,32,18],[43,46,32,44],[43,48,32,46,"error"],[43,53,32,51],[43,54,32,52],[44,8,33,6],[44,14,33,12,"AsyncStorage"],[44,26,33,24],[44,27,33,24,"default"],[44,34,33,24],[44,35,33,25,"removeItem"],[44,45,33,35],[44,46,33,36],[44,53,33,43],[44,54,33,44],[45,6,34,4],[45,7,34,5],[45,16,34,14],[46,8,35,6,"setLoading"],[46,18,35,16],[46,19,35,17],[46,24,35,22],[46,25,35,23],[47,6,36,4],[48,4,37,2],[49,4,39,2],[49,19,39,17,"signIn"],[49,25,39,23,"signIn"],[49,26,39,24,"email"],[49,31,39,37],[49,33,39,39,"password"],[49,41,39,55],[49,43,39,57],[50,6,40,4],[50,10,40,8],[51,8,41,6],[51,14,41,12,"response"],[51,22,41,20],[51,25,41,23],[51,31,41,29,"api"],[51,34,41,32],[51,35,41,32,"default"],[51,42,41,32],[51,43,41,33,"post"],[51,47,41,37],[51,48,41,38],[51,65,41,55],[51,67,41,57],[52,10,41,59,"email"],[52,15,41,64],[53,10,41,66,"password"],[54,8,41,75],[54,9,41,76],[54,10,41,77],[55,8,42,6],[55,14,42,12],[56,10,42,14,"token"],[56,15,42,19],[57,10,42,21,"user"],[57,14,42,25],[57,16,42,27,"userData"],[58,8,42,36],[58,9,42,37],[58,12,42,40,"response"],[58,20,42,48],[58,21,42,49,"data"],[58,25,42,53],[59,8,44,6],[59,14,44,12,"AsyncStorage"],[59,26,44,24],[59,27,44,24,"default"],[59,34,44,24],[59,35,44,25,"setItem"],[59,42,44,32],[59,43,44,33],[59,50,44,40],[59,52,44,42,"token"],[59,57,44,47],[59,58,44,48],[60,8,45,6,"setUser"],[60,15,45,13],[60,16,45,14,"userData"],[60,24,45,22],[60,25,45,23],[61,6,46,4],[61,7,46,5],[61,8,46,6],[61,15,46,13,"error"],[61,20,46,23],[61,22,46,25],[62,8,47,6,"console"],[62,15,47,13],[62,16,47,14,"log"],[62,19,47,17],[62,20,47,18],[62,34,47,32],[62,36,47,34,"error"],[62,41,47,39],[62,42,47,40,"response"],[62,50,47,48],[62,52,47,50,"data"],[62,56,47,54],[62,57,47,55],[63,8,48,6],[63,14,48,12],[63,18,48,16,"Error"],[63,23,48,21],[63,24,48,22,"error"],[63,29,48,27],[63,30,48,28,"response"],[63,38,48,36],[63,40,48,38,"data"],[63,44,48,42],[63,46,48,44,"detail"],[63,52,48,50],[63,56,48,54],[63,77,48,75],[63,78,48,76],[64,6,49,4],[65,4,50,2],[66,4,52,2],[66,19,52,17,"signUp"],[66,25,52,23,"signUp"],[66,26,52,24,"name"],[66,30,52,36],[66,32,52,38,"email"],[66,37,52,51],[66,39,52,53,"password"],[66,47,52,69],[66,49,52,71,"phone"],[66,54,52,85],[66,56,52,87],[67,6,53,4],[67,10,53,8],[68,8,54,6],[68,14,54,12,"response"],[68,22,54,20],[68,25,54,23],[68,31,54,29,"api"],[68,34,54,32],[68,35,54,32,"default"],[68,42,54,32],[68,43,54,33,"post"],[68,47,54,37],[68,48,54,38],[68,68,54,58],[68,70,54,60],[69,10,54,62,"name"],[69,14,54,66],[70,10,54,68,"email"],[70,15,54,73],[71,10,54,75,"password"],[71,18,54,83],[72,10,54,85,"phone"],[73,8,54,91],[73,9,54,92],[73,10,54,93],[74,8,55,6],[74,14,55,12],[75,10,55,14,"token"],[75,15,55,19],[76,10,55,21,"user"],[76,14,55,25],[76,16,55,27,"userData"],[77,8,55,36],[77,9,55,37],[77,12,55,40,"response"],[77,20,55,48],[77,21,55,49,"data"],[77,25,55,53],[78,8,57,6],[78,14,57,12,"AsyncStorage"],[78,26,57,24],[78,27,57,24,"default"],[78,34,57,24],[78,35,57,25,"setItem"],[78,42,57,32],[78,43,57,33],[78,50,57,40],[78,52,57,42,"token"],[78,57,57,47],[78,58,57,48],[79,8,58,6,"setUser"],[79,15,58,13],[79,16,58,14,"userData"],[79,24,58,22],[79,25,58,23],[80,6,59,4],[80,7,59,5],[80,8,59,6],[80,15,59,13,"error"],[80,20,59,23],[80,22,59,25],[81,8,60,6,"console"],[81,15,60,13],[81,16,60,14,"log"],[81,19,60,17],[81,20,60,18],[81,37,60,35],[81,39,60,37,"error"],[81,44,60,42],[81,45,60,43,"response"],[81,53,60,51],[81,55,60,53,"data"],[81,59,60,57],[81,60,60,58],[82,8,61,6],[82,14,61,12],[82,18,61,16,"Error"],[82,23,61,21],[82,24,61,22,"error"],[82,29,61,27],[82,30,61,28,"response"],[82,38,61,36],[82,40,61,38,"data"],[82,44,61,42],[82,46,61,44,"detail"],[82,52,61,50],[82,56,61,54],[82,77,61,75],[82,78,61,76],[83,6,62,4],[84,4,63,2],[85,4,65,2],[85,19,65,17,"signOut"],[85,26,65,24,"signOut"],[85,27,65,24],[85,29,65,27],[86,6,66,4],[86,12,66,10,"AsyncStorage"],[86,24,66,22],[86,25,66,22,"default"],[86,32,66,22],[86,33,66,23,"removeItem"],[86,43,66,33],[86,44,66,34],[86,51,66,41],[86,52,66,42],[87,6,67,4,"setUser"],[87,13,67,11],[87,14,67,12],[87,18,67,16],[87,19,67,17],[88,4,68,2],[89,4,70,2],[89,24,71,4],[89,28,71,4,"_reactJsxDevRuntime"],[89,47,71,4],[89,48,71,4,"jsxDEV"],[89,54,71,4],[89,56,71,5,"AuthContext"],[89,67,71,16],[89,68,71,17,"Provider"],[89,76,71,25],[90,6,71,26,"value"],[90,11,71,31],[90,13,71,33],[91,8,71,35,"user"],[91,12,71,39],[92,8,71,41,"loading"],[92,15,71,48],[93,8,71,50,"signIn"],[93,14,71,56],[94,8,71,58,"signUp"],[94,14,71,64],[95,8,71,66,"signOut"],[96,6,71,74],[96,7,71,76],[97,6,71,76,"children"],[97,14,71,76],[97,16,72,7,"children"],[98,4,72,15],[99,6,72,15,"fileName"],[99,14,72,15],[99,16,72,15,"_jsxFileName"],[99,28,72,15],[100,6,72,15,"lineNumber"],[100,16,72,15],[101,6,72,15,"columnNumber"],[101,18,72,15],[102,4,72,15],[102,11,73,26],[102,12,73,27],[103,2,75,0],[103,3,75,1],[104,2,77,7],[104,11,77,16,"useAuth"],[104,18,77,23,"useAuth"],[104,19,77,23],[104,21,77,26],[105,4,78,2],[105,10,78,8,"context"],[105,17,78,15],[105,20,78,18],[105,24,78,18,"useContext"],[105,30,78,28],[105,31,78,28,"useContext"],[105,41,78,28],[105,43,78,29,"AuthContext"],[105,54,78,40],[105,55,78,41],[106,4,79,2],[106,8,79,6],[106,9,79,7,"context"],[106,16,79,14],[106,18,79,16],[107,6,80,4],[107,12,80,10],[107,16,80,14,"Error"],[107,21,80,19],[107,22,80,20],[107,64,80,62],[107,65,80,63],[108,4,81,2],[109,4,82,2],[109,11,82,9,"context"],[109,18,82,16],[110,2,83,0],[111,0,83,1],[111,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","signIn","signUp","signOut","useAuth"],"mappings":"AAA;qECe;YCI;GDE;EEE;GFa;EGE;GHW;EIE;GJW;EKE;GLG;CDO;OOE"},"hasCjsExports":false},"type":"js/module"}]}